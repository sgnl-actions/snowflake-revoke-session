name: snowflake-revoke-session
description: Revoke all active sessions for a Snowflake user by disabling and re-enabling the account

# Input parameters for web form generation
inputs:
  username:
    type: text
    description: The Snowflake username to revoke sessions for
    required: true
    validation:
      min: 1
      max: 100

# Expected output structure
outputs:
  username:
    type: text
    description: The Snowflake username that was processed

  sessionsRevoked:
    type: boolean
    description: Whether the sessions were successfully revoked

  userDisabled:
    type: text
    description: Statement handle or status for the disable operation

  userReEnabled:
    type: text
    description: Statement handle or status for the re-enable operation

  revokedAt:
    type: datetime
    description: When the revocation completed (ISO 8601)

# Required secrets (configured at deployment time)
secrets:
  - SNOWFLAKE_TOKEN

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi